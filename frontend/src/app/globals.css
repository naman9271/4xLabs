@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  
  /* Light theme fallback - we'll primarily use dark theme */
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 240 5.9% 10%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 12 6.5% 15.1%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 240 4.9% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
  
  /* Developer-centric color system */
  --dev-bg-surface: 220 13% 7%;         /* #121212 - Cod Gray */
  --dev-bg-elevated: 220 8% 12%;        /* #1E1E1E - Mine Shaft */
  --dev-border: 0 0% 100% / 12%;         /* White 12% opacity */
  --dev-text-primary: 0 0% 100% / 87%;   /* White 87% opacity */
  --dev-text-secondary: 0 0% 100% / 60%; /* White 60% opacity */
  --dev-text-disabled: 0 0% 100% / 38%;  /* White 38% opacity */
  --dev-accent: 186 100% 52%;            /* #22D3EE - Neon Cyan */
  --dev-success: 158 88% 38%;            /* #01C16A - Subtle Green */
  --dev-warning: 38 96% 49%;             /* #F8B400 - Muted Yellow */
  --dev-error: 351 83% 61%;              /* #E63946 - Rich Red */
  
  --sidebar: 240 10% 3.9%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 0 0% 98%;
  --sidebar-primary-foreground: 240 5.9% 10%;
  --sidebar-accent: 240 3.7% 15.9%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-border: 240 3.7% 15.9%;
  --sidebar-ring: 240 4.9% 83.9%;
}

.dark {
  /* Core surfaces using your developer palette */
  --background: var(--dev-bg-surface);      /* #121212 - Cod Gray */
  --foreground: var(--dev-text-primary);    /* White 87% opacity */
  
  /* Cards and elevated surfaces */
  --card: var(--dev-bg-elevated);           /* #1E1E1E - Mine Shaft */
  --card-foreground: var(--dev-text-primary);
  
  /* Popovers and modals */
  --popover: var(--dev-bg-elevated);
  --popover-foreground: var(--dev-text-primary);
  
  /* Primary accent color - Neon Cyan for interactive elements */
  --primary: var(--dev-accent);             /* #22D3EE - Neon Cyan */
  --primary-foreground: var(--dev-bg-surface); /* Dark text on cyan */
  
  /* Secondary elements */
  --secondary: var(--dev-bg-elevated);
  --secondary-foreground: var(--dev-text-primary);
  
  /* Muted elements */
  --muted: var(--dev-bg-elevated);
  --muted-foreground: var(--dev-text-secondary); /* White 60% opacity */
  
  /* Accent elements */
  --accent: var(--dev-bg-elevated);
  --accent-foreground: var(--dev-accent);    /* Cyan text on elevated bg */
  
  /* Destructive elements - Rich Red */
  --destructive: var(--dev-error);           /* #E63946 - Rich Red */
  --destructive-foreground: var(--dev-text-primary);
  
  /* Borders and inputs */
  --border: var(--dev-border);               /* White 12% opacity */
  --input: var(--dev-bg-elevated);
  --ring: var(--dev-accent);                 /* Cyan focus rings */
  
  /* Updated chart colors to match developer theme */
  --chart-1: var(--dev-accent);             /* Neon Cyan */
  --chart-2: var(--dev-success);            /* Subtle Green */
  --chart-3: var(--dev-warning);            /* Muted Yellow */
  --chart-4: var(--dev-error);              /* Rich Red */
  --chart-5: 270 95% 65%;                   /* Purple for variety */
  
  /* Sidebar matching the developer theme */
  --sidebar: var(--dev-bg-elevated);
  --sidebar-foreground: var(--dev-text-primary);
  --sidebar-primary: var(--dev-accent);
  --sidebar-primary-foreground: var(--dev-bg-surface);
  --sidebar-accent: var(--dev-bg-surface);
  --sidebar-accent-foreground: var(--dev-text-primary);
  --sidebar-border: var(--dev-border);
  --sidebar-ring: var(--dev-accent);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Developer-specific utility classes */
  .dev-surface {
    background-color: hsl(var(--dev-bg-surface));
  }
  
  .dev-elevated {
    background-color: hsl(var(--dev-bg-elevated));
  }
  
  .dev-text-primary {
    color: hsl(var(--dev-text-primary));
  }
  
  .dev-text-secondary {
    color: hsl(var(--dev-text-secondary));
  }
  
  .dev-text-disabled {
    color: hsl(var(--dev-text-disabled));
  }
  
  .dev-accent {
    color: hsl(var(--dev-accent));
  }
  
  .dev-bg-accent {
    background-color: hsl(var(--dev-accent));
  }
  
  .dev-success {
    color: hsl(var(--dev-success));
  }
  
  .dev-warning {
    color: hsl(var(--dev-warning));
  }
  
  .dev-error {
    color: hsl(var(--dev-error));
  }
  
  .dev-border {
    border-color: hsl(var(--dev-border));
  }
  
  /* Code-like styling for that IDE feel */
  .dev-code {
    font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-feature-settings: "liga" 1, "calt" 1;
  }
  
  /* Glass morphism effects for elevation */
  .dev-glass {
    backdrop-filter: blur(8px);
    background-color: hsl(var(--dev-bg-elevated) / 0.8);
    border: 1px solid hsl(var(--dev-border));
  }
  
  /* Subtle animations inspired by IDE interactions */
  .dev-interactive {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dev-interactive:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px hsl(var(--dev-accent) / 0.15);
  }
  
  /* Focus states that feel like IDE selections */
  .dev-focus:focus-visible {
    outline: 2px solid hsl(var(--dev-accent));
    outline-offset: 2px;
    box-shadow: 0 0 0 4px hsl(var(--dev-accent) / 0.2);
  }
  
  /* Skeleton loaders for smooth loading states */
  .skeleton {
    background: linear-gradient(
      110deg,
      hsl(var(--dev-bg-elevated)) 8%,
      hsl(var(--dev-border)) 18%,
      hsl(var(--dev-bg-elevated)) 33%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s ease-in-out infinite;
  }
  
  @keyframes skeleton-loading {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
  
  /* Terminal-like text effects */
  .terminal-text {
    font-family: 'JetBrains Mono', monospace;
    text-shadow: 0 0 10px hsl(var(--dev-accent) / 0.5);
  }
  
  /* Glitch effect for dramatic emphasis */
  .glitch {
    position: relative;
    color: hsl(var(--dev-text-primary));
    font-weight: bold;
  }
  
  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .glitch::before {
    animation: glitch-anim-1 0.3s infinite linear alternate-reverse;
    color: hsl(var(--dev-accent));
    z-index: -1;
  }
  
  .glitch::after {
    animation: glitch-anim-2 0.3s infinite linear alternate-reverse;
    color: hsl(var(--dev-error));
    z-index: -2;
  }
  
  @keyframes glitch-anim-1 {
    0% {
      clip: rect(42px, 9999px, 44px, 0);
      transform: skew(0.85deg);
    }
    5% {
      clip: rect(12px, 9999px, 59px, 0);
      transform: skew(0.4deg);
    }
    10% {
      clip: rect(48px, 9999px, 29px, 0);
      transform: skew(0.55deg);
    }
    15% {
      clip: rect(42px, 9999px, 73px, 0);
      transform: skew(0.25deg);
    }
    20% {
      clip: rect(63px, 9999px, 27px, 0);
      transform: skew(0.15deg);
    }
    100% {
      clip: rect(63px, 9999px, 27px, 0);
      transform: skew(0.05deg);
    }
  }
  
  @keyframes glitch-anim-2 {
    0% {
      clip: rect(65px, 9999px, 119px, 0);
      transform: skew(0.45deg);
    }
    5% {
      clip: rect(52px, 9999px, 36px, 0);
      transform: skew(0.2deg);
    }
    10% {
      clip: rect(79px, 9999px, 108px, 0);
      transform: skew(0.3deg);
    }
    15% {
      clip: rect(17px, 9999px, 98px, 0);
      transform: skew(0.1deg);
    }
    20% {
      clip: rect(26px, 9999px, 55px, 0);
      transform: skew(0.05deg);
    }
    100% {
      clip: rect(26px, 9999px, 55px, 0);
      transform: skew(0.02deg);
    }
  }
  
  /* Typing animation for code-like effect */
  .typing {
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid hsl(var(--dev-accent));
    animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
  }
  
  @keyframes typing {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }
  
  @keyframes blink-caret {
    from,
    to {
      border-color: transparent;
    }
    50% {
      border-color: hsl(var(--dev-accent));
    }
  }
  
  /* Matrix-style background effect */
  .matrix-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    opacity: 0.1;
  }
  
  /* Smooth state transitions */
  .state-transition {
    transition: all 0.2s ease-out;
  }
  
  /* Custom scrollbar for that IDE feel */
  .dev-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .dev-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--dev-bg-surface));
  }
  
  .dev-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--dev-border));
    border-radius: 4px;
  }
  
  .dev-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--dev-accent) / 0.5);
  }
  
  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Status indicators */
  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
  }
  
  .status-online {
    background-color: hsl(var(--dev-success));
    box-shadow: 0 0 6px hsl(var(--dev-success) / 0.6);
  }
  
  .status-away {
    background-color: hsl(var(--dev-warning));
    box-shadow: 0 0 6px hsl(var(--dev-warning) / 0.6);
  }
  
  .status-offline {
    background-color: hsl(var(--dev-text-disabled));
  }
}
